---
title: 软件安全复习提纲
date: 2025-12-25 01:05:55
categories:
  - 学习资料
tags:
  - 期末
  - 笔记
  - 软件安全
slug: software-security
---

# 软件安全复习提纲

> 说明：本篇由课堂录音要点整理而来，已去掉口语化与时间戳，按“可复习/可检索”的结构重排。

## 题型（参考）

- 填空题：约 10 题 × 1 分
- 单选题：约 20 题 × 1 分
- 简答题：约 5 题（合计约 30 分）
- 代码题：若干题（通常占比最大）

### 代码题关注点（参考）

- 异常处理相关（SEH）
- 堆相关问题（堆溢出/堆管理机制）

## 复习主线

1. 安全开发生命周期（SDL）与威胁建模
2. 漏洞基础与利用链路（概念层面）
3. 程序内存布局、栈与寄存器
4. Windows 常见防护机制（/GS、SafeSEH、DEP、ASLR…）
5. Web 常见漏洞（XSS、SQL 注入、Session 相关攻击）

## 安全开发生命周期（SDL）

- 目标：把安全活动前移到需求/设计阶段，降低缺陷成本。
- 常见活动：安全需求、设计评审、威胁建模、安全编码规范、静态/动态测试、上线前安全验收、应急响应与复盘。

## 威胁建模（Threat Modeling）

- 作用：识别产品的安全风险与攻击面，确定需要优先控制的威胁与缓解措施。
- 常见产物：数据流图（DFD）、信任边界、资产清单、威胁列表、缓解方案与验证用例。
- 常见流程（思路）：识别资产与入口 → 画 DFD/划信任边界 → 用模型枚举威胁 → 评估风险 → 设计缓解与验证。
- 常见模型：
  - STRIDE：Spoofing / Tampering / Repudiation / Information Disclosure / Denial of Service / Elevation of Privilege
  - DREAD（有时用于风险评估）：Damage / Reproducibility / Exploitability / Affected users / Discoverability

## 漏洞与“利用流程”（概念）

- 0day / 1day：是否已公开与是否已有补丁/细节披露，核心在于“攻击者可用性”与“防守方可见性”。
- 常见链路：漏洞发现 → 漏洞分析 → 影响评估 → 修复与验证 → 发布与跟踪。

## 调试/分析工具（常见）

- IDE/调试：`VS Code`（配合编译/调试扩展）
- 逆向/调试：`OllyDbg` / `x64dbg` 等（按课程环境为准）
- 辅助：符号（PDB）、断点、调用栈、内存/寄存器窗口、日志与脚本化插件

## 程序内存与栈基础

### 典型内存区域（概念）

- 代码区（Text）：指令
- 数据区（Data/BSS）：全局/静态数据
- 堆（Heap）：动态分配
- 栈（Stack）：函数调用帧、局部变量、返回地址等

### 常见寄存器（以 x86 为例）

- `EIP`：下一条指令地址（控制流关键）
- `ESP`：栈顶指针
- `EBP`：栈帧基址（便于定位局部变量/参数）

### 栈帧（概念）

- 函数调用通常会在栈上保存：返回地址、参数、局部变量、保存的寄存器等。
- 理解栈帧有助于：读懂调用栈、定位崩溃点、分析越界写对“数据/控制流”的影响。

## 栈溢出与防护机制（高层）

### 栈溢出要点

- 本质：写越界导致覆盖相邻内存（可能影响控制流或关键数据）。
- 关注：溢出来源（输入）、边界检查、函数调用/栈帧结构、异常处理链等。

### Windows/编译器常见防护（按课程为准）

- `/GS`（栈保护/栈金丝雀）：检测返回前栈是否被破坏（主要防“直接覆盖返回地址”类问题）。
- SafeSEH / SEHOP：增强异常处理链的完整性校验，降低利用异常链劫持的风险。
- DEP/NX：将数据页标记为不可执行，降低“直接执行注入代码”的风险。
- ASLR：随机化模块与关键地址，增加利用稳定性成本。
- CFG 等控制流保护：限制间接跳转目标，降低控制流劫持风险。

## 异常处理（SEH）与堆（概念）

### SEH

- Windows 异常处理用于在异常发生时转移到处理程序；相关元数据与链路在运行期需要保持一致性。
- SafeSEH / SEHOP 等机制本质上是在“异常处理的控制流跳转”上增加校验与约束。

### 堆与常见机制

- 堆用于动态内存分配与释放；不同版本 Windows/不同分配器会有不同的管理策略。
- 常见考点关键词：空闲链表、分配/释放流程、完整性检查（如 safe unlink 思想）、Lookaside list、LFH（Low Fragmentation Heap）等。

## Web 常见考点

### XSS

- 分类：反射型、存储型（以及 DOM 型作为扩展理解）。
- 关注：触发条件（输入点/输出点）、上下文（HTML/属性/JS/URL）、防护（输出编码、CSP、模板默认转义等）。

### SQL 注入

- 核心：把“数据”当成“指令”拼接执行。
- 防护：参数化查询（Prepared Statement）、最小权限、输入校验与错误处理、审计与监控。

### Session 相关攻击（概念）

- 会话固定/劫持：围绕 Session 标识的获取、预测、复用与保护。
- 防护：HTTPS、`HttpOnly`/`Secure` Cookie、合理的过期与轮换、绑定关键属性（可用性与安全性权衡）。
